{
	servers {
		## docs https://caddyserver.com/docs/caddyfile/options#trusted-proxies
		{$CADDY_TRUSTED_PROXIES}
		{$CADDY_STRICT_PROXIES}
	}
	admin off
	{$PARSED_AUTO_HTTPS}
	{$PARSED_LE_EMAIL}
}

{$PARSED_APP_URL} {
	root * /var/www/html/public
	encode gzip

	file_server

	# FrankenPHP replaces php-fpm + fastcgi with an in-process PHP runtime.
	# When we later want Laravel "worker mode", we can extend this block with
	# FrankenPHP worker directives (often via Laravel Octane).
	php_server {
	    worker ./public/index.php
	}
}
