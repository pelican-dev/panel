{
	servers {
		## docs https://caddyserver.com/docs/caddyfile/options#trusted-proxies
		{$CADDY_TRUSTED_PROXIES} 
		{$CADDY_STRICT_PROXIES}
	}
	admin off
	auto_https off
	email {$ADMIN_EMAIL}
}

{$APP_URL} {
	root * /var/www/html/public
	encode gzip

	# Request body size limit (should match PHP upload_max_filesize)
	request_body {
		max_size {$UPLOAD_LIMIT:100}MB
	}

	file_server
	php_fastcgi 127.0.0.1:9000 {
		# PHP-FPM timeout for large uploads
		read_timeout 300s
		write_timeout 300s
	}
}
